---
# Tasks for the harvester_launcher
    
 - name: Install "python-pip3"
   apt:
     name: python3-pip
     state: latest
     update_cache: yes
     
 - name: Install Required Packages
   pip: 
     name: "{{ item }}"
     state: latest
     
   loop:
     - shapely
     - textblob
     - tweepy
     - tweet-preprocessor
     - couchdb

 - name: Transfer Scripts To Remote
   copy:
     src: twitharvester.py
     dest: /etc/twitharvester.py
    

 - name: Run The Harvester Scripts
   shell: python /etc/twitharvester.py "{{harvester_number}}"
   register: output
 
 - debug:
     var: output.stdout_lines
 
